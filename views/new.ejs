<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="styles/main.css" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <div class="container mt-4">
        <div class="text-center">
        <% if(locals.data){ %>
            <h1 class="mb-2"><%= data.name %></h1>
        <% }else{ %>
            <h1 class="mb-2">New Note</h1>
        <% } %>     
        <hr class="mb-5"/>   
        </div>
        <div class="container p-4 detail-content" style="max-width: 1000px;">
            <% if(locals.data){ %>
            <form method="post" action="/update?id=<%= data.id %>" class="p-4">
                <div class="form-group pb-4">
                  <label for="exampleInputEmail1">ISBN Number</label>
                  <input type="text" value="<%= data.isbn %>" class="form-control form-control-lg" id="exampleInputEmail1" name="isbn" aria-describedby="emailHelp" placeholder="Enter ISBN number"  required>
                </div>
                <div class="form-group pb-4">
                  <label for="exampleInputPassword1">Rate</label>
                  <input type="number" value="<%= data.rate %>" class="form-control form-control-lg" id="exampleInputPassword1" name="rate" placeholder="Rate from 1 to 10" required>
                </div>
                <div class="form-group pb-4">
                    <label for="exampleInputPassword1">Reading Date</label>
                    <input type="date" value="<%= data.published_date.toISOString().split('T')[0] %>" class="form-control form-control-lg" id="exampleInputPassword1" name="published_date" placeholder="YYYY-MM-DD" required>
                </div>
                <div class="form-group pb-4">
                    <label for="exampleInputPassword1">Your Note</label>
                    <textarea class="form-control form-control-lg" name="note" rows="4" cols="50" placeholder="Your Note about Book" required><%= data.note %></textarea>
                </div>
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-lg mt-4 px-5">Update</button>
                </div>
            </form>
            <% }else{ %>
            <form method="post" action="/new" class="p-4">
                <div class="form-group pb-4">
                    <label for="exampleInputEmail1">ISBN Number</label>
                    <input type="text" class="form-control form-control-lg" id="exampleInputEmail1" name="isbn" aria-describedby="emailHelp" placeholder="Enter ISBN number"  required>
                </div>
                <div class="form-group pb-4">
                    <label for="exampleInputPassword1">Rate</label>
                    <input type="number" class="form-control form-control-lg" id="exampleInputPassword1" name="rate" placeholder="Rate from 1 to 10" required>
                </div>
                <div class="form-group pb-4">
                    <label for="exampleInputPassword1">Reading Date</label>
                    <input type="date" class="form-control form-control-lg" id="exampleInputPassword1" name="published_date" placeholder="YYYY-MM-DD" required>
                </div>
                <div class="form-group pb-4">
                    <label for="exampleInputPassword1">Your Note</label>
                    <textarea class="form-control form-control-lg" name="note" rows="4" cols="50" placeholder="Your Note about Book" required></textarea>
                </div>
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-lg mt-4 px-5">Submit</button>
                </div>
            </form>
            <% } %>  
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>